Python virtual env and install caracal
```
cd /scratch/ruby/g330/caracal
python3.7 -m venv venv3.7
source venv3.7/bin/activate
pip install -U pip setuptools wheel
# old branch has error in setjy models
pip install --no-cache-dir git+https://github.com/caracal-pipeline/caracal.git@add_polcal
# install newest master to correct the setjy model error
pip install --no-cache-dir git+https://github.com/caracal-pipeline/caracal.git
caracal -h
pip cache purge
deactivate
```

Get data from archive    
`mvftoms.py -f --flags cam <katdaltoken>`


Running pipeline
```
source venv3.7/bin/activate
ln -s <scratch_data> ms-orig

caracal -c <config_file>.yml

# sw : start-worker
# ew : end-worker
caracal -c <config_file>.yml -sw general -ew transform__calibrators
```

Check caracal config file settings
```
caracal -c <config_file>.yml -sw general -ew general
```

To quickly clean up the temporary output products generated by caracal
```
make clean
```
To remove all output, as well as
```
make clobber
```


